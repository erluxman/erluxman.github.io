{"componentChunkName":"component---src-templates-blog-post-js","path":"/fr/the-bug-o-notation/","result":{"data":{"site":{"siteMetadata":{"title":"Overreacted","author":"Dan Abramov"}},"markdownRemark":{"id":"cfd43d62-57b8-5f90-8ab4-c9f6189f77d1","html":"<p>Quand on Ã©crit du code dont la performance est critique, il vaut mieux garder Ã  lâ€™esprit sa complexitÃ© algorithmique.  Elle est frÃ©quemment exprimÃ©e Ã  lâ€™aide dâ€™une <a href=\"https://rob-bell.net/2009/06/a-beginners-guide-to-big-o-notation/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">comparaison asymptotique</a>, souvent appelÃ©e Â«Â notation Grand OÂ Â» <em>(Big-O Notation, NdT)</em>.</p>\n<p>La notation Big-O mesure <strong>la faÃ§on dont le code ralentit lorsquâ€™on augmente le volume de donnÃ©es quâ€™il doit traiter.</strong>  Par exemple, si un algorithme de tri a une complexitÃ© de O(<i>n<sup>2</sup></i>), trier 50 fois plus dâ€™Ã©lÃ©ments prendra environ 50<sup>2</sup> = 2Â 500 fois plus de temps. Big-O ne nous donne pas un nombre exact, mais nous aide Ã  comprendre comment un algorithme <em>monte en charge</em>.</p>\n<p>Quelques exemplesÂ : O(<i>n</i>), O(<i>n</i> log <i>n</i>), O(<i>n<sup>2</sup></i>), O(<i>n!</i>).</p>\n<p>Ceci dit, <strong>cet article ne parle pas dâ€™algorithmes ni de performance.</strong>  Il parle dâ€™APIs et de dÃ©bogage.  Il sâ€™avÃ¨re que la conception dâ€™API entraÃ®ne des considÃ©rations trÃ¨s similaires.</p>\n<hr>\n<p>Une partie significative de notre temps est aspirÃ©e par la recherche et la correction de bugs dans notre code.  La plupart des dÃ©veloppeurs aimeraient trouver les bugs plus vite.  Aussi satisfaisant que Ã§a puisse Ãªtre lorsquâ€™on lâ€™a enfin dÃ©busquÃ©, il est tout de mÃªme rageant de passer la journÃ©e entiÃ¨re Ã  pourchasser un unique bug alors quâ€™on aurait pu Ã  la place implÃ©menter une fonctionnalitÃ© prÃ©vue.</p>\n<p>Lâ€™expÃ©rience de dÃ©bogage influence nos choix en termes dâ€™abstractions, de bibliothÃ¨ques et dâ€™outils.  Certaines conceptions dâ€™APIs et de langages rendent impossible des catÃ©gories entiÃ¨res dâ€™erreurs.  Dâ€™autres recÃ¨lent un potentiel infini de problÃ¨mes.  <strong>Mais comment savoir lesquelles sont lesquellesÂ ?</strong></p>\n<p>De nombreuses discussions en ligne sur les APIs se focalisent sur leur esthÃ©tique.  Mais Ã§a <a href=\"/optimized-for-change/\">ne nous dit pas grand chose</a> sur le ressenti dâ€™utilisation rÃ©elle dâ€™une API donnÃ©e.</p>\n<p><strong>Jâ€™ai une mÃ©trique qui mâ€™aide Ã  rÃ©flÃ©chir Ã  Ã§a.  Je lâ€™appelle la notation <em>Bug-O</em>Â :</strong></p>\n<p><font size=\"40\">ğŸ(<i>n</i>)</font></p>\n<p>La notation Big-O dÃ©crit le ralentissement dâ€™un algorithme proportionnellement Ã  la taille de ses entrÃ©es.  La <em>Bug-O</em> dÃ©crit le ralentissement de <em>votre expÃ©rience dÃ©veloppeur</em> avec une API donnÃ©e proportionnellement Ã  la taille de votre base de code.</p>\n<hr>\n<p>Par exemple, observez le code ci-dessous qui met manuellement Ã  jour le DOM au fil du temps avec des opÃ©rations impÃ©ratives telles que <code class=\"language-text\">node.appendChild()</code> et <code class=\"language-text\">node.removeChild()</code>, et nâ€™a pas de structure claireÂ :</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">function</span> <span class=\"token function\">trySubmit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// Section 1</span>\n  <span class=\"token keyword\">let</span> spinner <span class=\"token operator\">=</span> <span class=\"token function\">createSpinner</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  formStatus<span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>spinner<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">submitForm</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  \t<span class=\"token comment\">// Section 2</span>\n    formStatus<span class=\"token punctuation\">.</span><span class=\"token function\">removeChild</span><span class=\"token punctuation\">(</span>spinner<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">let</span> successMessage <span class=\"token operator\">=</span> <span class=\"token function\">createSuccessMessage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    formStatus<span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>successMessage<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">catch</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">error</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  \t<span class=\"token comment\">// Section 3</span>\n    formStatus<span class=\"token punctuation\">.</span><span class=\"token function\">removeChild</span><span class=\"token punctuation\">(</span>spinner<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">let</span> errorMessage <span class=\"token operator\">=</span> <span class=\"token function\">createErrorMessage</span><span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">let</span> retryButton <span class=\"token operator\">=</span> <span class=\"token function\">createRetryButton</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    formStatus<span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>errorMessage<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    formStatus<span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>retryButton<span class=\"token punctuation\">)</span>\n    retryButton<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'click'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">// Section 4</span>\n      formStatus<span class=\"token punctuation\">.</span><span class=\"token function\">removeChild</span><span class=\"token punctuation\">(</span>errorMessage<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      formStatus<span class=\"token punctuation\">.</span><span class=\"token function\">removeChild</span><span class=\"token punctuation\">(</span>retryButton<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token function\">trySubmit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Le problÃ¨me avec ce code, ce nâ€™est pas quâ€™il est Â«Â mocheÂ Â».  On ne parle pas ici dâ€™esthÃ©tique.  <strong>Le problÃ¨me câ€™est que sâ€™il y a un bug dans ce code, je ne sais mÃªme pas par oÃ¹ commencer.</strong></p>\n<p><strong>Selon lâ€™ordre de dÃ©clenchement des fonctions de rappel et des Ã©vÃ©nements, il y a une explosion combinatoire du nombre de chemins que ce programme peut emprunter.</strong>  Pour certains, vous verrez les bons messages.  Pour dâ€™autres, vous verrez plusieurs spinners, messages dâ€™Ã©chec et dâ€™erreurs en mÃªme temps, voire Ã§a plantera carrÃ©ment.</p>\n<p>Cette fonction a 4 sections diffÃ©rentes et aucune garantie sur leur ordonnancement.  Mes calculs hautement non-scientifiques me disent quâ€™on obtient 4Ã—3Ã—2Ã—1 = 24 ordres diffÃ©rents dâ€™exÃ©cution possible.  Si jâ€™ajoute encore quatre segments supplÃ©mentaires, ce sera 8Ã—7Ã—6Ã—5Ã—4Ã—3Ã—2Ã—1 â€” <em>quarante mille</em> combinaisons.  Bon courage pour dÃ©boguer Ã§a.</p>\n<p><strong>En dâ€™autres termes, la Bug-O de cette approche est ğŸ(<i>n!</i>)</strong> oÃ¹ <em>n</em> est le nombre de segments de code qui touchent au DOM. Ouais, câ€™est une <em>factorielle</em>.  Bien sÃ»r, je ne suis pas trÃ¨s scientifique, sur ce coup.  Toutes les transitions ne sont pas possibles en pratique.  Mais dâ€™un autre cÃ´tÃ©, chacun de ces segments peut tourner plus dâ€™une fois. <span style=\"word-break: keep-all\">ğŸ(<em>Â¯\\_(ãƒ„)_/Â¯</em>)</span> serait peut-Ãªtre une description plus exacte, mais Ã§a craint quand mÃªme.  On peut mieux faire.</p>\n<hr>\n<p>Pour amÃ©liorer la Bug-O de ce code, on peut limiter le nombre dâ€™Ã©tats et de rÃ©sultats possibles.  Pas besoin dâ€™une bibliothÃ¨que pour Ã§aÂ : câ€™est juste une question de meilleure structuration de notre code.  Voici une maniÃ¨re possible dâ€™y arriverÂ :</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">let</span> currentState <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  step<span class=\"token operator\">:</span> <span class=\"token string\">'initial'</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 'initial' | 'pending' | 'success' | 'error'</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">trySubmit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>currentState<span class=\"token punctuation\">.</span>step <span class=\"token operator\">===</span> <span class=\"token string\">'pending'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// On empÃªche le double envoi</span>\n    <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> step<span class=\"token operator\">:</span> <span class=\"token string\">'pending'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">submitForm</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> step<span class=\"token operator\">:</span> <span class=\"token string\">'success'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">catch</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">error</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> step<span class=\"token operator\">:</span> <span class=\"token string\">'error'</span><span class=\"token punctuation\">,</span> error <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">nextState</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// On efface dâ€™abord tous les nÅ“uds fils existants</span>\n  formStatus<span class=\"token punctuation\">.</span>innerHTML <span class=\"token operator\">=</span> <span class=\"token string\">''</span><span class=\"token punctuation\">;</span>\n\n  currentState <span class=\"token operator\">=</span> nextState<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>nextState<span class=\"token punctuation\">.</span>step<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">case</span> <span class=\"token string\">'initial'</span><span class=\"token operator\">:</span>\n      <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">case</span> <span class=\"token string\">'pending'</span><span class=\"token operator\">:</span>\n      formStatus<span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>spinner<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">case</span> <span class=\"token string\">'success'</span><span class=\"token operator\">:</span>\n      <span class=\"token keyword\">let</span> successMessage <span class=\"token operator\">=</span> <span class=\"token function\">createSuccessMessage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      formStatus<span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>successMessage<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">case</span> <span class=\"token string\">'error'</span><span class=\"token operator\">:</span>\n      <span class=\"token keyword\">let</span> errorMessage <span class=\"token operator\">=</span> <span class=\"token function\">createErrorMessage</span><span class=\"token punctuation\">(</span>nextState<span class=\"token punctuation\">.</span>error<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">let</span> retryButton <span class=\"token operator\">=</span> <span class=\"token function\">createRetryButton</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      formStatus<span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>errorMessage<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      formStatus<span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>retryButton<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      retryButton<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'click'</span><span class=\"token punctuation\">,</span> trySubmit<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Ce code nâ€™a pas lâ€™air trÃ¨s diffÃ©rent.  Il est mÃªme un poil plus verbeux.  Mais il est <em>dramatiquement</em> plus simple Ã  dÃ©boguer, principalement grÃ¢ce Ã  cette ligneÂ :</p>\n<div class=\"gatsby-highlight has-highlighted-lines\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">function</span> <span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">nextState</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// On efface dâ€™abord tous les nÅ“uds fils existants</span>\n<span class=\"gatsby-highlight-code-line\">  formStatus<span class=\"token punctuation\">.</span>innerHTML <span class=\"token operator\">=</span> <span class=\"token string\">''</span><span class=\"token punctuation\">;</span></span>\n  <span class=\"token comment\">// ... code qui ajoute des trucs Ã  formStatus ...</span></code></pre></div>\n<p>En effaÃ§ant lâ€™Ã©tat du formulaire avant de faire quoi que ce soit dâ€™autre, on sâ€™assure que les opÃ©rations sur le DOM partiront toujours de zÃ©ro.  Câ€™est ainsi quâ€™on combat lâ€™inÃ©vitable <a href=\"/the-elements-of-ui-engineering/\">entropie</a>â€”en <em>ne laissant pas</em> les erreurs sâ€™accumuler. Câ€™est lâ€™Ã©quivalent code du Â«Â Ã©teins-le puis rallume-leÂ Â», et Ã§a marche incroyablement bien.</p>\n<p><strong>Sâ€™il y a un bug dans lâ€™affichage, on a juste besoin de rÃ©flÃ©chir <em>une</em> Ã©tape en amontâ€”dâ€™examiner lâ€™appel Ã  <code class=\"language-text\">setState</code> prÃ©cÃ©dent.</strong>  La Bug-O du dÃ©bogage dâ€™un rÃ©sultat de rendu devient ğŸ(<em>n</em>), oÃ¹ <em>n</em> est le nombre de chemins de rendu dans le code.  Ici, câ€™est juste quatre (parce quâ€™on a quatre cas dans le <code class=\"language-text\">switch</code>).</p>\n<p>On a toujours un petit risque de soucis de concurrence dans la <em>dÃ©finition</em> de lâ€™Ã©tat, mais dÃ©boguer ce type de problÃ¨mes est plus facile parce que chaque Ã©tat intermÃ©diaire peut Ãªtre loguÃ© et examinÃ©.  On peut interdire les transitions indÃ©sirables explicitementÂ :</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">function</span> <span class=\"token function\">trySubmit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>currentState<span class=\"token punctuation\">.</span>step <span class=\"token operator\">===</span> <span class=\"token string\">'pending'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// On empÃªche le double envoi</span>\n    <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span></code></pre></div>\n<p>Bien sÃ»r, rÃ©initialiser le DOM Ã  chaque fois nâ€™est pas sans inconvÃ©nient.  Le retrait puis la re-crÃ©ation naÃ¯fs du DOM Ã  chaque appel effaceraient lâ€™Ã©tat interne, perdraient le focus, et tueraient la performance sur des applications de grande taille.</p>\n<p>Câ€™est pourquoi des bibliothÃ¨ques comme React peuvent Ãªtre utiles.  Elles vous permettent de <em>rÃ©flÃ©chir</em> en conservant le paradigme de la re-crÃ©ation de lâ€™UI Ã  partir de zÃ©ro, sans forcÃ©ment tout effacer sous le capotÂ :</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">function</span> <span class=\"token function\">FormStatus</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">let</span> <span class=\"token punctuation\">[</span>state<span class=\"token punctuation\">,</span> setState<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    step<span class=\"token operator\">:</span> <span class=\"token string\">'initial'</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">function</span> <span class=\"token function\">handleSubmit</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">e</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    e<span class=\"token punctuation\">.</span><span class=\"token function\">preventDefault</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>state<span class=\"token punctuation\">.</span>step <span class=\"token operator\">===</span> <span class=\"token string\">'pending'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">// On empÃªche le double envoi</span>\n      <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> step<span class=\"token operator\">:</span> <span class=\"token string\">'pending'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">submitForm</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> step<span class=\"token operator\">:</span> <span class=\"token string\">'success'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">catch</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">error</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> step<span class=\"token operator\">:</span> <span class=\"token string\">'error'</span><span class=\"token punctuation\">,</span> error <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">let</span> content<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>state<span class=\"token punctuation\">.</span>step<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">case</span> <span class=\"token string\">'pending'</span><span class=\"token operator\">:</span>\n      content <span class=\"token operator\">=</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Spinner</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">case</span> <span class=\"token string\">'success'</span><span class=\"token operator\">:</span>\n      content <span class=\"token operator\">=</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">SuccessMessage</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">case</span> <span class=\"token string\">'error'</span><span class=\"token operator\">:</span>\n      content <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n          </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">ErrorMessage</span></span> <span class=\"token attr-name\">error</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>state<span class=\"token punctuation\">.</span>error<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n          </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">RetryButton</span></span> <span class=\"token attr-name\">onClick</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>handleSubmit<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span></span><span class=\"token punctuation\">></span></span>\n      <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>form</span> <span class=\"token attr-name\">onSubmit</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>handleSubmit<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token punctuation\">{</span>content<span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>form</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Le code peut sembler diffÃ©rent, mais le principe est le mÃªme.  Lâ€™abstraction du composant garantit une frontiÃ¨re qui nous donne la certitude quâ€™aucun <em>autre</em> code sur la page ne pourra venir pourrir ce fragment DOM ou notre Ã©tat.  Lâ€™isolation des composants aide Ã  rÃ©duire la Bug-O.</p>\n<p>En fait, si <em>nâ€™importe quelle</em> valeur semble erronÃ©e dans le DOM dâ€™une appli React, vous pouvez retracer sa source simplement en regardant le code des composants au-dessus dâ€™elle dans lâ€™arborescence React, un par un.  Quelle que soit la taille de lâ€™appli, retracer lâ€™origine dâ€™une valeur rendue est ğŸ(<em>profondeur de lâ€™arbre</em>).</p>\n<p><strong>La prochaine fois que vous lisez une discussion sur une API, posez-vous la questionÂ : quelle est la ğŸ(<em>n</em>) des tÃ¢ches courantes de dÃ©bogage avec elleÂ ?</strong> Et quâ€™en est-il des APIs et principes que vous utilisez courammentÂ ? Redux, CSS, lâ€™hÃ©ritageâ€”ils ont tous leur propre Bug-O.</p>\n<hr>","timeToRead":6,"frontmatter":{"title":"La notation Â«Â Bug-OÂ Â»","date":"January 25, 2019","spoiler":"Quel est le ğŸ(<i>n</i>) de votre APIÂ ?","cta":null},"fields":{"slug":"/fr/the-bug-o-notation/","langKey":"fr"}}},"pageContext":{"slug":"/fr/the-bug-o-notation/","translations":["es","fr","ja","ko","uk","zh-hans","zh-hant"],"translatedLinks":["/optimized-for-change/","/the-elements-of-ui-engineering/"]}}}