{"componentChunkName":"component---src-templates-blog-post-js","path":"/zh-hans/why-do-we-write-super-props/","result":{"data":{"site":{"siteMetadata":{"title":"Overreacted","author":"Dan Abramov"}},"markdownRemark":{"id":"2ecfaa25-e58f-552b-be05-9fcb7951b532","html":"<p>æ®è¯´ <a href=\"https://reactjs.org/docs/hooks-intro.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Hooks</a> åŠ¿å¤´æ­£ç››ï¼Œä¸è¿‡æˆ‘è¿˜æ˜¯æƒ³ç•¥å¸¦è°ƒä¾ƒåœ°ä» <em>class</em> çš„æœ‰è¶£ä¹‹å¤„å¼€å§‹è¿™ç¯‡åšå®¢ã€‚å¯è¿˜è¡Œï¼Ÿ</p>\n<p><strong>è¿™äº›æ¢—å¯¹äºä½¿ç”¨ React è¾“å‡ºäº§å“å¹¶<em>ä¸</em>é‡è¦ï¼Œä½†å¦‚æœä½ æƒ³æ·±å…¥çš„äº†è§£å®ƒä»¬çš„è¿ä½œåŸç†ï¼Œå®ƒä»¬ä¼šéå¸¸çš„æœ‰ç”¨ã€‚</strong></p>\n<hr>\n<p>é¦–å…ˆï¼Œåœ¨è¿™ä¸€ç”Ÿä¸­ï¼Œ<code class=\"language-text\">super(props)</code> å‡ºç°åœ¨æˆ‘ä»£ç é‡Œçš„æ¬¡æ•°æ¯”æˆ‘çŸ¥é“çš„è¿˜è¦å¤šï¼š</p>\n<div class=\"gatsby-highlight has-highlighted-lines\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Checkbox</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">React<span class=\"token punctuation\">.</span>Component</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">props</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n<span class=\"gatsby-highlight-code-line\">    <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span>    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> isOn<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token comment\">// ...</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>å½“ç„¶äº†ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ <a href=\"https://github.com/tc39/proposal-class-fields\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">class fields proposal</a> æ¥çœç•¥è¿™ä¸ªå£°æ˜ï¼š</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Checkbox</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">React<span class=\"token punctuation\">.</span>Component</span> <span class=\"token punctuation\">{</span>\n  state <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> isOn<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n  <span class=\"token comment\">// ...</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>æ—©åœ¨ 2015 å¹´ React 0.13 å·²ç»<a href=\"https://reactjs.org/blog/2015/01/27/react-v0.13.0-beta-1.html#es7-property-initializers\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">è®¡åˆ’æ”¯æŒ</a> ã€‚åœ¨å½“æ—¶ï¼Œå£°æ˜ <code class=\"language-text\">constructor</code> å’Œè°ƒç”¨ <code class=\"language-text\">super(props)</code> ä¸€ç›´è¢«è§†ä½œæš‚æ—¶çš„è§£å†³æ–¹æ¡ˆï¼Œç›´åˆ°æœ‰åˆé€‚çš„ç±»å­—æ®µå£°æ˜å½¢å¼ã€‚</p>\n<p>ä½†åœ¨æ­¤ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆå›åˆ° ES2015 é£æ ¼çš„ä»£ç ï¼š</p>\n<div class=\"gatsby-highlight has-highlighted-lines\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Checkbox</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">React<span class=\"token punctuation\">.</span>Component</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">props</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n<span class=\"gatsby-highlight-code-line\">    <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span>    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> isOn<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token comment\">// ...</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><strong>ä¸ºä»€ä¹ˆæˆ‘ä»¬è¦è°ƒç”¨ <code class=\"language-text\">super</code>ï¼Œæˆ‘ä»¬å¯ä»¥ä¸è¿™ä¹ˆåšå—ï¼Ÿé‚£ä¹ˆåœ¨æˆ‘ä»¬è°ƒç”¨å®ƒæ—¶ä¸ä¼ å…¥ <code class=\"language-text\">props</code>ï¼Œåˆä¼šå‘ç”Ÿä»€ä¹ˆå‘¢ï¼Ÿä¼šæœ‰å…¶ä»–çš„ç¼ºçœå‚æ•°å—ï¼Ÿ</strong>æ¥æ¥ä¸‹æˆ‘ä»¬å°±è§£å¼€è¿™ä¸€ç³»åˆ—è°œé¢˜ã€‚</p>\n<hr>\n<p>åœ¨ JavaScript ä¸­ï¼Œ<code class=\"language-text\">super</code> æŒ‡çš„æ˜¯çˆ¶ç±»ï¼ˆå³è¶…ç±»ï¼‰çš„æ„é€ å‡½æ•°ã€‚ï¼ˆåœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œå®ƒæŒ‡å‘äº† <code class=\"language-text\">React.Component</code> çš„å®ç°ã€‚ï¼‰</p>\n<p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œåœ¨è°ƒç”¨çˆ¶ç±»çš„æ„é€ å‡½æ•°ä¹‹å‰ï¼Œä½ æ˜¯ä¸èƒ½åœ¨ constructor ä¸­ä½¿ç”¨ <code class=\"language-text\">this</code> å…³é”®å­—çš„ã€‚JavaScript ä¸å…è®¸è¿™ä¸ªè¡Œä¸ºã€‚</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Checkbox</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">React<span class=\"token punctuation\">.</span>Component</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">props</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// ğŸ”´  è¿˜ä¸èƒ½ä½¿ç”¨ `this`</span>\n    <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// âœ…  ç°åœ¨å¯ä»¥äº†</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> isOn<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token comment\">// ...</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>JavaScript æœ‰è¶³å¤Ÿåˆç†çš„åŠ¨æœºæ¥å¼ºåˆ¶ä½ åœ¨æ¥è§¦ <code class=\"language-text\">this</code> ä¹‹å‰æ‰§è¡Œçˆ¶ç±»æ„é€ å‡½æ•°ã€‚è€ƒè™‘è€ƒè™‘ä¸€äº›ç±»å±‚æ¬¡ç»“æ„çš„ä¸œè¥¿ï¼š</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Person</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">name</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> name<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">PolitePerson</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Person</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">name</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">greetColleagues</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ğŸ”´  è¿™æ˜¯ç¦æ­¢çš„ï¼Œå¾€åè§åŸå› </span>\n    <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token function\">greetColleagues</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Good morning folks!'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>è¯•æƒ³ä¸€ä¸‹ï¼Œåœ¨è°ƒç”¨ <code class=\"language-text\">super</code> ä¹‹å‰ä½¿ç”¨ <code class=\"language-text\">this</code> ä¸è¢«ç¦æ­¢çš„æƒ…å†µä¸‹ï¼Œä¸€ä¸ªæœˆåï¼Œæˆ‘ä»¬å¯èƒ½åœ¨ <code class=\"language-text\">greetColleagues</code> æ‰“å°çš„æ¶ˆæ¯ä¸­ä½¿ç”¨äº† person çš„ name å±æ€§ï¼š</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\">  <span class=\"token function\">greetColleagues</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Good morning folks!'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token string\">'My name is '</span> <span class=\"token operator\">+</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">+</span> <span class=\"token string\">', nice to meet you!'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span></code></pre></div>\n<p>ä½†æ˜¯æˆ‘ä»¬å¹¶æœªæƒ³èµ· <code class=\"language-text\">this.greetColleagues</code> åœ¨ <code class=\"language-text\">super()</code> ç»™ <code class=\"language-text\">this.name</code> èµ‹å€¼å‰å°±å·²ç»æ‰§è¡Œã€‚<code class=\"language-text\">this.name</code> æ­¤æ—¶ç”šè‡³å°šæœªå®šä¹‰ã€‚å¯ä»¥çœ‹åˆ°ï¼Œè¿™æ ·çš„ä»£ç éš¾ä»¥å¾€ä¸‹æ¨æ•²ã€‚</p>\n<p>ä¸ºäº†é¿å…è½å…¥è¿™ä¸ªé™·é˜±ï¼Œ<strong>JavaScript å¼ºåˆ¶ä½ åœ¨ä½¿ç”¨ <code class=\"language-text\">this</code> ä¹‹å‰å…ˆè¡Œè°ƒç”¨ <code class=\"language-text\">super</code>ã€‚</strong>è®©çˆ¶ç±»æ¥å®Œæˆè¿™ä»¶äº‹æƒ…ï¼ï¼š</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\">  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">props</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// âœ… èƒ½ä½¿ç”¨ `this` äº†</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> isOn<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span></code></pre></div>\n<p>è¿™é‡Œç•™ä¸‹äº†å¦ä¸€ä¸ªé—®é¢˜ï¼šä¸ºä»€ä¹ˆè¦ä¼ å…¥ <code class=\"language-text\">props</code> ï¼Ÿ</p>\n<hr>\n<p>ä½ æˆ–è®¸ä¼šæƒ³åˆ°ï¼Œä¸ºäº†è®© React.Component æ„é€ å‡½æ•°èƒ½å¤Ÿåˆå§‹åŒ– <code class=\"language-text\">this.props</code>ï¼Œå°† <code class=\"language-text\">props</code> ä¼ å…¥ <code class=\"language-text\">super</code> æ˜¯å¿…é¡»çš„ï¼š</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token comment\">// React å…§éƒ¨</span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Component</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">props</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props <span class=\"token operator\">=</span> props<span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// ...</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>è¿™å‡ ä¹å°±æ˜¯çœŸç›¸äº† â€” ç¡®ç„¶ï¼Œå®ƒæ˜¯ <a href=\"https://github.com/facebook/react/blob/1d25aa5787d4e19704c049c3cfa985d3b5190e0d/packages/react/src/ReactBaseClasses.js#L22\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">è¿™æ ·åš</a> çš„ã€‚</p>\n<p>ä½†æœ‰äº›æ‰‘æœ”è¿·ç¦»çš„æ˜¯ï¼Œå³ä¾¿ä½ è°ƒç”¨ <code class=\"language-text\">super()</code> çš„æ—¶å€™æ²¡æœ‰ä¼ å…¥ <code class=\"language-text\">props</code>ï¼Œä½ ä¾ç„¶èƒ½å¤Ÿåœ¨ <code class=\"language-text\">render</code> å‡½æ•°æˆ–å…¶ä»–æ–¹æ³•ä¸­è®¿é—®åˆ° <code class=\"language-text\">this.props</code>ã€‚ï¼ˆå¦‚æœä½ è´¨ç–‘è¿™ä¸ªæœºåˆ¶ï¼Œå°è¯•ä¸€ä¸‹å³å¯ï¼‰</p>\n<p>é‚£ä¹ˆè¿™æ˜¯æ€ä¹ˆåšåˆ°çš„å‘¢ï¼Ÿäº‹å®è¯æ˜ï¼ŒReact åœ¨è°ƒç”¨æ„é€ å‡½æ•°åä¹Ÿç«‹å³å°† <code class=\"language-text\">props</code> èµ‹å€¼åˆ°äº†å®ä¾‹ä¸Šï¼š**</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\">  <span class=\"token comment\">// React å†…éƒ¨</span>\n  <span class=\"token keyword\">const</span> instance <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">YourComponent</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  instance<span class=\"token punctuation\">.</span>props <span class=\"token operator\">=</span> props<span class=\"token punctuation\">;</span></code></pre></div>\n<p>å› æ­¤å³ä¾¿ä½ å¿˜è®°äº†å°† <code class=\"language-text\">props</code> ä¼ ç»™ <code class=\"language-text\">super()</code>ï¼ŒReact ä¹Ÿä»ç„¶ä¼šåœ¨ä¹‹åå°†å®ƒå®šä¹‰åˆ°å®ä¾‹ä¸Šã€‚è¿™ä¹ˆåšæ˜¯æœ‰åŸå› çš„ã€‚</p>\n<p>å½“ React å¢åŠ äº†å¯¹ç±»çš„æ”¯æŒæ—¶ï¼Œä¸ä»…ä»…æ˜¯ä¸ºäº†æœåŠ¡äº ES6ã€‚å…¶ç›®æ ‡æ˜¯å°½å¯èƒ½å¹¿æ³›åœ°æ”¯æŒç±»æŠ½è±¡ã€‚å½“æ—¶æˆ‘ä»¬ <a href=\"https://reactjs.org/blog/2015/01/27/react-v0.13.0-beta-1.html#other-languages\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">ä¸æ¸…æ¥š</a>  ClojureScriptï¼ŒCoffeeScriptï¼ŒES6ï¼ŒFableï¼ŒScala.jsï¼ŒTypeScript ç­‰è§£æ±ºæ–¹æ¡ˆæ˜¯å¦‚ä½•æˆåŠŸçš„å®è·µç»„ä»¶å®šä¹‰çš„ã€‚å› è€Œ React åˆ»æ„åœ°æ²¡æœ‰æ˜¾å¼è¦æ±‚è°ƒç”¨ <code class=\"language-text\">super()</code> â€”â€” å³ä¾¿ ES6 è‡ªèº«å°±åŒ…å«è¿™ä¸ªæœºåˆ¶ã€‚</p>\n<p>è¿™æ„å‘³ç€ä½ èƒ½å¤Ÿç”¨ <code class=\"language-text\">super()</code> ä»£æ›¿ <code class=\"language-text\">super(props)</code> å—ï¼Ÿ</p>\n<p><strong>æœ€å¥½ä¸è¦ï¼Œæ¯•ç«Ÿè¿™æ ·å†™åœ¨é€»è¾‘ä¸Šå¹¶ä¸æ˜ç¡®</strong>ç¡®ç„¶ï¼ŒReact ä¼šåœ¨æ„é€ å‡½æ•°æ‰§è¡Œå®Œæ¯•<em>ä¹‹å</em>ç»™ <code class=\"language-text\">this.props</code> èµ‹å€¼ã€‚ä½†å¦‚æ­¤ä¸ºä¹‹ä¼šä½¿å¾— <code class=\"language-text\">this.props</code> åœ¨ <code class=\"language-text\">super</code> è°ƒç”¨<em>ä¸€ç›´åˆ°æ„é€ å‡½æ•°ç»“æŸæœŸé—´</em>å€¼ä¸º undefinedã€‚</p>\n<div class=\"gatsby-highlight has-highlighted-lines\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token comment\">// React å…§éƒ¨</span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Component</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">props</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props <span class=\"token operator\">=</span> props<span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// ...</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// ä½ çš„ç¨‹å¼ç¢¼å…§éƒ¨</span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Button</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">React<span class=\"token punctuation\">.</span>Component</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">props</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ğŸ˜¬ æˆ‘ä»¬å¿˜äº†ä¼ å…¥ props</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>      <span class=\"token comment\">// âœ… {}</span>\n<span class=\"gatsby-highlight-code-line\">    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ğŸ˜¬ æœªå®šä¹‰</span></span>  <span class=\"token punctuation\">}</span>\n  <span class=\"token comment\">// ...</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>å¦‚æœåœ¨æ„é€ å‡½æ•°ä¸­è°ƒç”¨äº†å…¶ä»–çš„å†…éƒ¨æ–¹æ³•ï¼Œé‚£ä¹ˆä¸€æ—¦å‡ºé”™è¿™ä¼šä½¿å¾—è°ƒè¯•è¿‡ç¨‹é˜»åŠ›æ›´å¤§ã€‚<strong>è¿™å°±æ˜¯æˆ‘å»ºè®®å¼€å‘è€…ä¸€å®šæ‰§è¡Œ <code class=\"language-text\">super(props)</code> çš„åŸå› ï¼Œå³ä½¿ç†è®ºä¸Šè¿™å¹¶éå¿…è¦ï¼š</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Button</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">React<span class=\"token punctuation\">.</span>Component</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">props</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// âœ… ä¼ å…¥ props</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>      <span class=\"token comment\">// âœ… {}</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// âœ… {}</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token comment\">// ...</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ç¡®ä¿äº† <code class=\"language-text\">this.props</code> åœ¨æ„é€ å‡½æ•°æ‰§è¡Œå®Œæ¯•ä¹‹å‰å·²è¢«èµ‹å€¼ã€‚</p>\n<hr>\n<p>æœ€åï¼Œè¿˜æœ‰ä¸€ç‚¹æ˜¯ React çˆ±å¥½è€…é•¿æœŸä»¥æ¥çš„å¥½å¥‡ä¹‹å¤„ã€‚</p>\n<p>ä½ ä¼šå‘ç°å½“ä½ åœ¨ç±»ä¸­ä½¿ç”¨ Context API ï¼ˆæ— è®ºæ˜¯æ—§ç‰ˆçš„ <code class=\"language-text\">contextTypes</code> æˆ–æ˜¯åœ¨ React 16.6 æ›´æ–°çš„æ–°ç‰ˆ <code class=\"language-text\">contextTypes</code>ï¼‰çš„æ—¶å€™ï¼Œ<code class=\"language-text\">context</code> æ˜¯ä½œä¸ºç¬¬äºŒä¸ªå‚æ•°ä¼ å…¥æ„é€ å‡½æ•°çš„ã€‚</p>\n<p>é‚£ä¹ˆä¸ºä»€ä¹ˆæˆ‘ä»¬ä¸èƒ½è½¬è€Œå†™æˆ <code class=\"language-text\">super(props, context)</code> å‘¢ï¼Ÿæˆ‘ä»¬å½“ç„¶å¯ä»¥ï¼Œä½† context çš„ä½¿ç”¨é¢‘ç‡è¾ƒä½ï¼Œå› è€Œå¹¶æ²¡æœ‰æ˜è¿™ä¸ªå‘ã€‚</p>\n<p><strong>class fields proposal å‡ºå°åï¼Œè¿™äº›å‘å¤§éƒ¨åˆ†éƒ½ä¼šè‡ªç„¶åœ°æ¶ˆå¤±</strong>åœ¨æ²¡æœ‰æ˜¾ç¤ºçš„å®šä¹‰æ„é€ å‡½æ•°çš„æƒ…å†µä¸‹ï¼Œä»¥ä¸Šçš„å±æ€§éƒ½ä¼šè¢«è‡ªåŠ¨åœ°åˆå§‹åŒ–ã€‚è¿™ä½¿å¾—åƒ <code class=\"language-text\">state = {}</code> è¿™ç±»è¡¨è¾¾å¼èƒ½å¤Ÿåœ¨éœ€è¦çš„æƒ…å†µä¸‹å¼•ç”¨ <code class=\"language-text\">this.props</code> å’Œ <code class=\"language-text\">this.context</code> çš„å†…å®¹ã€‚</p>\n<p>ç„¶è€Œï¼Œæœ‰äº† Hooks ä»¥åï¼Œæˆ‘ä»¬å‡ ä¹å°±ä¸éœ€è¦ <code class=\"language-text\">super</code> å’Œ <code class=\"language-text\">this</code> äº†ã€‚ä½†é‚£å°±æ˜¯å¦ä¸€ä¸ªä¸‹åˆçš„èŒ¶ç‚¹äº†ã€‚</p>","timeToRead":5,"frontmatter":{"title":"ä¸ºä»€ä¹ˆæˆ‘ä»¬è¦å†™ super(props) ï¼Ÿ","date":"November 30, 2018","spoiler":"ç»“å°¾å¤„æœ‰å½©è›‹ã€‚","cta":null},"fields":{"slug":"/zh-hans/why-do-we-write-super-props/","langKey":"zh-hans"}}},"pageContext":{"slug":"/zh-hans/why-do-we-write-super-props/","translations":["cs","de","fr","fa","es","hu","it","ja","my","nb","sr","pl","sk","pt-br","nl","th","uk","vi","tr","zh-hant","zh-hans"],"translatedLinks":[]}}}