{"componentChunkName":"component---src-templates-blog-post-js","path":"/hu/how-does-react-tell-a-class-from-a-function/","result":{"data":{"site":{"siteMetadata":{"title":"Overreacted","author":"Dan Abramov"}},"markdownRemark":{"id":"b8a76296-3f7d-595c-989d-8ffcfe31789b","html":"<p>Vegy√ºk ezt a <code class=\"language-text\">Greeting</code> komponenst, ami f√ºggv√©nyk√©nt van defini√°lva:</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">function</span> <span class=\"token function\">Greeting</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Hello</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>React-ben ugyanezt oszt√°lyk√©nt is defini√°lhatjuk</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Greeting</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">React<span class=\"token punctuation\">.</span>Component</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Hello</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>(Eg√©szen <a href=\"https://reactjs.org/docs/hooks-intro.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">mostan√°ig</a> ez volt az egyetlen m√≥dja, hogy √©lj√ºnk az √°llapot (state) √°ltal ny√∫jtott lehet≈ës√©gekkel.</p>\n<p>Amikor renderelni akarjuk a <code class=\"language-text\">&lt;Greeting /&gt;</code> komponenst, nem sz√°m√≠t hogyan volt defini√°lva:</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token comment\">// Oszt√°ly vagy f√ºggv√©ny - t√∂kmindegy.</span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Greeting</span></span> <span class=\"token punctuation\">/></span></span></code></pre></div>\n<p>De a <em>React-nek</em> igenis fontos ez a k√ºl√∂nbs√©g!</p>\n<p>Ha a <code class=\"language-text\">Greeting</code> egy f√ºggv√©ny, akkor a React-nek meg kell h√≠vnia:</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token comment\">// Saj√°t k√≥d</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">Greeting</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Hello</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token comment\">// React k√≥d</span>\n<span class=\"token keyword\">const</span> result <span class=\"token operator\">=</span> <span class=\"token function\">Greeting</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// &lt;p>Hello&lt;/p></span></code></pre></div>\n<p>De ha a <code class=\"language-text\">Greeting</code> egy oszt√°ly, akkor a React-nek el≈ësz√∂r l√©tre kell hoznia egy p√©ld√°nyt a <code class=\"language-text\">new</code> oper√°torral √©s csak <em>ez ut√°n</em> h√≠vja meg a <code class=\"language-text\">render</code> met√≥dust az im√©nt l√©trehozott p√©ld√°nyon. </p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token comment\">// Saj√°t k√≥d</span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Greeting</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">React<span class=\"token punctuation\">.</span>Component</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Hello</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token comment\">// React k√≥d</span>\n<span class=\"token keyword\">const</span> instance <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Greeting</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Greeting {}</span>\n<span class=\"token keyword\">const</span> result <span class=\"token operator\">=</span> instance<span class=\"token punctuation\">.</span><span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// &lt;p>Hello&lt;/p></span></code></pre></div>\n<p>A React c√©lja mindk√©t esetben az, hogy megkapja a renderelt elemet (a p√©ld√°nkban <code class=\"language-text\">&lt;p&gt;Hello&lt;/p&gt;</code>). De ennek a folyamatnak a l√©p√©sei att≈ël f√ºggenek, hogyan volt a <code class=\"language-text\">Greeting</code> defini√°lva.</p>\n<p><strong>Hogyan tudja teh√°t a React, hogy egy komponens oszt√°ly vagy f√ºggv√©ny?</strong></p>\n<p>Az <a href=\"/why-do-we-write-super-props/\">el≈ëz≈ë poszthoz</a> hasonl√≥an, <strong>nem <em>kell</em> mindezt tudni, ahhoz hogy hat√©konyan haszn√°ljuk a React-et.</strong> √ân sem tudtam √©vekig. K√©rek mindenkit, hogy ne csin√°ljunk ebb≈ël egy intej√∫ k√©rd√©st. Val√≥j√°ban ez a poszt ink√°bb sz√≥l a JavaScript-r≈ël mint a React-r≈ël.</p>\n<p>Ez a blog azoknak az √©rdekl≈ëd≈ë olvas√≥knak sz√≥l, akik tudni akarj√°k <em>mi√©rt</em> m≈±k√∂dik a React √∫gy ahogy. Magadra ismert√©l? Akkor ugorjunk neki egy√ºtt.</p>\n<p><strong>Hossz√∫ lesz az √∫t, √∂veket becsatolni! Ez a poszt nem a tartalmaz sok inform√°ci√≥t mag√°r√≥l a React-r≈ël, de √°t fogjuk venni a <code class=\"language-text\">new</code>, <code class=\"language-text\">this</code>, <code class=\"language-text\">class</code>, ny√≠l oper√°toros f√ºggv√©nyek, <code class=\"language-text\">prototype</code>, <code class=\"language-text\">__proto__</code>, <code class=\"language-text\">instanceof</code> n√©h√°ny tulajdons√°g√°t √©s hogy ezek hogyan f√ºggenek √∂ssze JavaScript-ben. Szerencs√©re ezeken nem kell t√∫l sokat gondolkodni a React <em>haszn√°lata</em> k√∂zben. Viszont ha te implement√°lod a React-et‚Ä¶</strong></p>\n<p>(Ha csak a v√°laszra vagy k√≠v√°ncsi, g√∂rgess a legv√©g√©re.)</p>\n<hr>\n<p>El≈ësz√∂r is azt kell meg√©rten√ºnk, mi√©rt fontos a f√ºggv√©nyeket √©s az oszt√°lyokat k√ºl√∂n kezeln√ºnk. Figyelj√ºk meg hogyan haszn√°ljuk a <code class=\"language-text\">new</code> oper√°tort egy oszt√°ly l√©trehoz√°sakor:</p>\n<div class=\"gatsby-highlight has-highlighted-lines\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token comment\">// Ha a Greeting egy f√ºggv√©ny</span>\n<span class=\"token keyword\">const</span> result <span class=\"token operator\">=</span> <span class=\"token function\">Greeting</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// &lt;p>Hello&lt;/p></span>\n<span class=\"token comment\">// Ha a Greeting egy oszt√°ly</span>\n<span class=\"token keyword\">const</span> instance <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Greeting</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Greeting {}</span>\n<span class=\"gatsby-highlight-code-line\"><span class=\"token keyword\">const</span> result <span class=\"token operator\">=</span> instance<span class=\"token punctuation\">.</span><span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// &lt;p>Hello&lt;/p></span></span></code></pre></div>\n<p>N√©zz√ºk meg, hogy nagyj√°b√≥l mit csin√°l a <code class=\"language-text\">new</code> oper√°tor JavaScript-ben.</p>\n<hr>\n<p>A m√∫ltban nem voltak oszt√°lyok a JavaScript-ben. Azonban egyszer≈± f√ºggv√©nyek seg√≠s√©g√©vel ki lehetett fejezni hasonl√≥ k√≥dol√°si mint√°kat. <strong>Konkr√©tan <em>ak√°rmilyen</em> f√ºggv√©nyt lehet egy oszt√°ly konstruktorhoz hasonl√≥ szerepk√∂rben haszn√°lni, mind√∂ssze a <code class=\"language-text\">new</code> oper√°torral kell megh√≠vni:</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token comment\">// Egy egyszer≈± f√ºggv√©ny</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">Person</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">name</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> name<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">var</span> fred <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Person</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Fred'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚úÖ Person {name: 'Fred'}</span>\n<span class=\"token keyword\">var</span> george <span class=\"token operator\">=</span> <span class=\"token function\">Person</span><span class=\"token punctuation\">(</span><span class=\"token string\">'George'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// üî¥ Nem fog m≈±k√∂dni</span></code></pre></div>\n<p>Ez a k√≥d m√©g ma is √©rv√©nyes! Pr√≥b√°ld ki DevTools-ban.</p>\n<p>Ha <code class=\"language-text\">new</code> √©s <code class=\"language-text\">this</code> <strong>n√©lk√ºl</strong> deklar√°ln√°nk √©s h√≠vn√°nk meg, akkor a <code class=\"language-text\">Person(&#39;Fred&#39;)</code> valami glob√°lis √©s hasznavehetetlen (mint p√©ld√°ul a <code class=\"language-text\">window</code> vagy <code class=\"language-text\">undefined</code>) dologra mutatna. A k√≥dunk teh√°t hib√°t jelezne vagy v√°ratlanul megv√°ltoztatn√° a <code class=\"language-text\">window.name</code> √©rt√©k√©t.</p>\n<p>A <code class=\"language-text\">new</code> oper√°tort egy f√ºggv√©ny megh√≠v√°sa el√© rakva azt fejezz√ºk ki, hogy: ‚ÄúFigyelj JavaScript, tudom hogy a <code class=\"language-text\">Person</code> csak egy f√ºggv√©ny, de tegy√ºnk √∫gy mintha egy oszt√°ly konstruktor lenne. <strong>Hozz l√©tre egy <code class=\"language-text\">{}</code> objektumot √©s a <code class=\"language-text\">Person</code> f√ºggv√©nyen bel√ºl l√©v≈ë <code class=\"language-text\">this</code> mutasson erre az objektumra, hogy hozz√° tudjak rendelni olyan dolgokat, mint a <code class=\"language-text\">this.name</code>. Azt√°n t√©rj vissza ezzel az objektummal.</strong> ‚Äù</p>\n<p>Ezt csin√°lja a <code class=\"language-text\">new</code> oper√°tor.</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">var</span> fred <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Person</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Fred'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// A `Person`-ban l√©v≈ë `this` erre az objektumra utal</span></code></pre></div>\n<p>A <code class=\"language-text\">new</code> oper√°tor azt is lehet≈ëv√© teszi, hogy minden amit a <code class=\"language-text\">Person.prototype</code>-on defini√°lunk az a <code class=\"language-text\">fred</code> objektum sz√°m√°ra is el√©rhet≈ë lesz:</p>\n<div class=\"gatsby-highlight has-highlighted-lines\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">function</span> <span class=\"token function\">Person</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">name</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> name<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"gatsby-highlight-code-line\"><span class=\"token class-name\">Person</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">sayHi</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></span><span class=\"gatsby-highlight-code-line\">  <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Hi, I am '</span> <span class=\"token operator\">+</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><span class=\"gatsby-highlight-code-line\"><span class=\"token punctuation\">}</span></span><span class=\"token keyword\">var</span> fred <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Person</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Fred'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nfred<span class=\"token punctuation\">.</span><span class=\"token function\">sayHi</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>√çgy lehetett oszt√°lyokat imit√°lni miel≈ëtt azok megjelentek volna JavaScript-ben.</p>\n<hr>\n<p>A <code class=\"language-text\">new</code> oper√°tor teh√°t nem egy √∫jdons√°g JavaScript-ben. Az oszt√°lyok azonban √∫jabb kelet≈±ek. A seg√≠ts√©g√ºkkel sokkal kifejez≈ëbb√© tudjuk tenni a kor√°bbi k√≥dunkat:</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Person</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">name</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> name<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token function\">sayHi</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Hi, I am '</span> <span class=\"token operator\">+</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">let</span> fred <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Person</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Fred'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nfred<span class=\"token punctuation\">.</span><span class=\"token function\">sayHi</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><em>A fejleszt≈ë sz√°nd√©k√°nak meg≈ërz√©se</em> fontos egy programnyelv vagy egy API tervez√©sekor.</p>\n<p>Ha √≠runk egy f√ºggv√©nyt, a JavaScript nem tudja mag√°t√≥l kital√°lni, hogy azt √∫gy kell megh√≠vnia, mint mondjuk az <code class=\"language-text\">alert()</code>-et vagy konstruktork√©nt, mint a <code class=\"language-text\">new Person()</code> eset√©ben. Egy olyan f√ºggv√©ny eset√©ben, mint a <code class=\"language-text\">Person</code>, a <code class=\"language-text\">new</code> elhagy√°sa zavaros k√∂vetkezm√©nyekkel j√°r.</p>\n<p><strong>Az oszt√°ly szintaxissal ki tudjuk fejezni, hogy: ‚ÄúEz nem csak egy f√ºggv√©ny - ez egy oszt√°ly √©s tartozik hozz√° egy konstruktor‚Äù.</strong> Ha lefelejtj√ºk a <code class=\"language-text\">new</code>-t ennek a megh√≠v√°sakor, a JavaScript hib√°t fog jelezni:</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">let</span> fred <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Person</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Fred'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// ‚úÖ  Ha a Person egy f√ºggv√©ny: semmi gond</span>\n<span class=\"token comment\">// ‚úÖ  Ha a Person egy oszt√°ly: szint√©n semmi gond</span>\n<span class=\"token keyword\">let</span> george <span class=\"token operator\">=</span> <span class=\"token function\">Person</span><span class=\"token punctuation\">(</span><span class=\"token string\">'George'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Hi√°nyz√≥ `new`</span>\n<span class=\"token comment\">// üò≥ Ha a Person egy konstruktor-szer≈± f√ºggv√©ny: zavaros viselked√©s</span>\n<span class=\"token comment\">// üî¥ Ha a Person egy oszt√°ly: azonnali hiba√ºzenet</span></code></pre></div>\n<p>A hib√°kat ez√°ltal k√∂nnyebb kor√°n √©szrevenni, semmint v√°rni hogy bek√∂vetkezzen valami rejt√©lyes bug, p√©ld√°ul hogy a <code class=\"language-text\">this.name</code> a <code class=\"language-text\">george.name</code> helyett a <code class=\"language-text\">window.name</code>-et √°ll√≠tja be.</p>\n<p>√Åm ez azzal is j√°r, hogy a React-nak minden egyes oszt√°ly megh√≠v√°sa el√© oda kell tennie a <code class=\"language-text\">new</code> oper√°tort. Nem h√≠vhatja meg azokat egyszer≈± f√ºggv√©nyk√©nt, mert a JavaScript hib√°t jelezne!</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Counter</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">React<span class=\"token punctuation\">.</span>Component</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Hello</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token comment\">// üî¥ A React nem h√≠vhatja meg √≠gy</span>\n<span class=\"token keyword\">const</span> instance <span class=\"token operator\">=</span> <span class=\"token function\">Counter</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Ebb≈ël m√©g baj lehet.</p>\n<hr>\n<p>Miel≈ëtt l√°tn√°nk hogyan oldja meg a React ezt a probl√©m√°t, jusson esz√ºnkbe, hogy a legt√∂bb React felhaszn√°l√≥ valamilyen ford√≠t√≥programot haszn√°l - mint p√©ld√°ul a Babel - hogy az oszt√°lyokat √©s a t√∂bbi modern funkci√≥kat leford√≠ts√°k a r√©gebbi b√∂ng√©sz≈ëk sz√°m√°ra. A tervez√©skor teh√°t ezeket a ford√≠t√≥programokat is figyelembe kell venn√ºnk.</p>\n<p>A Babel korai verzi√≥iban az oszt√°lyokat meg lehetett h√≠vni <code class=\"language-text\">new</code> n√©lk√ºl is. Ez azonban ki lett jav√≠tva - egy kis extra k√≥d hozz√°ad√°s√°val:</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">function</span> <span class=\"token function\">Person</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">name</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// Leegyszer≈±s√≠tett Babel k√≥d:</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span> <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">Person</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">TypeError</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Cannot call a class as a function\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token comment\">// Saj√°t k√≥d:</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> name<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">new</span> <span class=\"token class-name\">Person</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Fred'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚úÖ Ok√©</span>\n<span class=\"token function\">Person</span><span class=\"token punctuation\">(</span><span class=\"token string\">'George'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">// üî¥ Nem lehet az oszt√°lyt f√ºggv√©nyk√©nt megh√≠vni</span></code></pre></div>\n<p>Hasonl√≥ k√≥ddal m√°r tal√°lkozhatt√°l a bundle-√∂dben. Erre val√≥ az a sok <code class=\"language-text\">_classCallCheck</code> f√ºggv√©ny. (A bundle m√©rete cs√∂kkenthet≈ë ha az ilyen ellen≈ërz√©seket n√©lk√ºl√∂z≈ë ‚Äúloose mode‚Äù-ot v√°lasztjuk, de ez megnehez√≠theti a val√≥s nat√≠v oszt√°lyokra val√≥ j√∂v≈ëbeli √°t√°ll√°st.) </p>\n<hr>\n<p>Most m√°r teh√°t nagyj√°b√≥l √©rtj√ºk, hogy mi a k√ºl√∂nbs√©g ha <code class=\"language-text\">new</code>-val vagy an√©lk√ºl h√≠vunk meg valamit:</p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th><code class=\"language-text\">new Person()</code></th>\n<th><code class=\"language-text\">Person()</code></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">class</code></td>\n<td>‚úÖ A <code class=\"language-text\">this</code> egy <code class=\"language-text\">Person</code> p√©ld√°nyra mutat</td>\n<td>üî¥ <code class=\"language-text\">TypeError</code></td>\n</tr>\n<tr>\n<td><code class=\"language-text\">function</code></td>\n<td>‚úÖ A <code class=\"language-text\">this</code> egy <code class=\"language-text\">Person</code> p√©ld√°nyra mutat</td>\n<td>üò≥ A <code class=\"language-text\">this</code> vagy a <code class=\"language-text\">window</code>-ra mutat vagy <code class=\"language-text\">undefined</code></td>\n</tr>\n</tbody>\n</table>\n<p>Ez√©rt fontos, hogy a React helyesen h√≠vja meg a komponenseket. <strong>Ha a komponens oszt√°lyk√©nt van defini√°lva a React-nak a <code class=\"language-text\">new</code> oper√°torral kell megh√≠vnia.</strong></p>\n<p>Akkor a React csup√°n ellen≈ërzi, hogy egy oszt√°lyr√≥l van sz√≥ vagy sem?</p>\n<p>Ne olyan hevesen! M√©g ha <a href=\"https://stackoverflow.com/questions/29093396/how-do-you-check-the-difference-between-an-ecmascript-6-class-and-function\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">meg is tudn√°nk k√ºl√∂nb√∂ztetni egy oszt√°lyt egy f√ºggv√©nyt≈ël JavaScript-ben</a>, a Babel √©s a hozz√° hasonl√≥ eszk√∂z√∂k √°ltal ford√≠tott oszt√°lyok eset√©ben ez akkor sem m≈±k√∂dne. A b√∂ng√©sz≈ë szem√©ben ezek mind√∂ssze sima f√ºggv√©nyek. Nagy pech a React sz√°m√°ra.</p>\n<hr>\n<p>Ok√©, akkor a React nem tehetn√© oda <code class=\"language-text\">new</code> kulcssz√≥t minden egyes megh√≠v√°s el√©? Sajnos ez sem m≈±k√∂dne.</p>\n<p>Ha a szok√°sos f√ºggv√©nyeket a <code class=\"language-text\">new</code>-val h√≠vjuk meg, akkor egy objektum p√©ld√°ny t√°rsul hozz√°juk, amire a <code class=\"language-text\">this</code> mutat. Ez k√≠v√°natos a konstruktor f√ºggv√©nyekn√©l (mint p√©ld√°ul a kor√°bbi <code class=\"language-text\">Person</code>), de zavar√≥ a f√ºggv√©ny komponensek eset√©ben:</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">function</span> <span class=\"token function\">Greeting</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// Nem v√°rjuk el, hogy a `this` ak√°rmire mutasson</span>\n  <span class=\"token keyword\">return</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Hello</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Ez m√©g ak√°r elviselhet≈ë is lenne. Van viszont k√©t <em>m√°sik</em> oka annak, hogy ez az √∂tlet nem m≈±k√∂dik.</p>\n<hr>\n<p>Az els≈ë ok, ami√©rt nem haszn√°lhatjuk minden esetben a <code class=\"language-text\">new</code>-t az az, hogy ha a nat√≠v (√©s nem a Babel √°ltal leford√≠tott) ny√≠l oper√°toros f√ºggv√©nyeket a <code class=\"language-text\">new</code> kulcssz√≥val h√≠vjuk meg, akkor hiba√ºzenetet kapunk:</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">Greeting</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Hello</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">new</span> <span class=\"token class-name\">Greeting</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// üî¥ A Greeting nem egy konstruktor</span></code></pre></div>\n<p>Ez a viselked√©s sz√°nd√©kos √©s a ny√≠l oper√°toros f√ºggv√©nyek diz√°jnj√°b√≥l ered. A ny√≠l oper√°toros f√ºggv√©nyek egyik el≈ënye ugyanis az, hogy <em>nem</em> rendelkeznek saj√°t <code class=\"language-text\">this</code> √©rt√©kkel - ehelyett a <code class=\"language-text\">this</code>-t a legk√∂zelebbi szab√°lyos f√ºggv√©nyt≈ël veszik √°t:</p>\n<div class=\"gatsby-highlight has-highlighted-lines\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Friends</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">React<span class=\"token punctuation\">.</span>Component</span> <span class=\"token punctuation\">{</span>\n<span class=\"gatsby-highlight-code-line\">  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></span>    <span class=\"token keyword\">const</span> friends <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>friends<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">return</span> friends<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">friend</span> <span class=\"token operator\">=></span>\n      <span class=\"token operator\">&lt;</span>Friend\n<span class=\"gatsby-highlight-code-line\">        <span class=\"token comment\">// `A `this` a `render` met√≥dust√≥l sz√°rmazik</span></span><span class=\"gatsby-highlight-code-line\">        size<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>size<span class=\"token punctuation\">}</span></span>        name<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>friend<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">}</span>\n        key<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>friend<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">}</span>\n      <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Ok√©, sz√≥val a <strong>ny√≠l oper√°toros f√ºggv√©nyek nem rendelkeznek saj√°t <code class=\"language-text\">this</code>-szel.</strong> Viszont ez azt jelenti, hogy teljesen haszn√°lhatatlanok konstruktork√©nt!</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">Person</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">name</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// üî¥ Ennek nincs √©rtelme!</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> name<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Emiatt a <strong>JavaScript nem enged√©lyezi, hogy a ny√≠l oper√°toros f√ºggv√©nyeket a <code class=\"language-text\">new</code> kulcssz√≥val h√≠vjuk meg.</strong> Ha m√©gis √≠gy tesz√ºnk, az val√≥sz√≠n≈±leg nem volt sz√°nd√©kos √©s jobb is, ha min√©l hamarabb tudom√°st szerz√ºnk r√≥la. Hasonl√≥ okokb√≥l kifoly√≥lag nem engedi a JavaScript az oszt√°lyok megh√≠v√°s√°t a <code class=\"language-text\">new</code> oper√°tor <em>n√©lk√ºl</em>.</p>\n<p>Ez √≠gy ok√©, viszont ez kereszt√ºlh√∫zza a sz√°m√≠t√°sainkat. A React nem h√≠vhat meg mindent a <code class=\"language-text\">new</code> kulcssz√≥val, mert a ny√≠l oper√°toros f√ºggv√©nyek eset√©ben ez nem m≈±k√∂dne! A <code class=\"language-text\">new</code>-val val√≥ megh√≠v√°s helyett megpr√≥b√°lhatn√°nk kisz≈±rni a ny√≠l oper√°toros f√ºggv√©nyeket az√°ltal, hogy nekik nincs <code class=\"language-text\">prototype</code> mez≈ëj√ºk:</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>prototype <span class=\"token comment\">// undefined</span>\n<span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>prototype <span class=\"token comment\">// {constructor: f}</span></code></pre></div>\n<p>De ez <a href=\"https://github.com/facebook/react/issues/4599#issuecomment-136562930\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">nem m≈±k√∂dne</a> a Babel √°ltal ford√≠tott f√ºggv√©nyek eset√©ben. Ez nem biztos, hogy olyan nagy √ºgy, van viszont egy m√°sik ok, ami miatt ez a megk√∂zel√≠t√©s egy zs√°kutca.</p>\n<hr>\n<p>A m√°sik ok ami√©rt nem haszn√°lhatjuk folyton a <code class=\"language-text\">new</code> kulcssz√≥t az az, hogy ez megakad√°lyozn√° a React-et abban, hogy t√°mogassa azokat a komponenseket, amik string-ekkel vagy m√°s primit√≠v t√≠pusokkal t√©rnek vissza. </p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">function</span> <span class=\"token function\">Greeting</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token string\">'Hello'</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token function\">Greeting</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚úÖ 'Hello'</span>\n<span class=\"token keyword\">new</span> <span class=\"token class-name\">Greeting</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// üò≥ Greeting {}</span></code></pre></div>\n<p>Ez megint csak a <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/new\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"><code class=\"language-text\">new</code> oper√°tor</a> k√ºl√∂n√∂s koncepci√≥j√°b√≥l ered. Ahogy azt l√°ttuk kor√°bban a <code class=\"language-text\">new</code> arra utas√≠tja a JavaScript-et, hogy hozzon l√©tre egy objektumot, a f√ºggv√©nyen bel√ºl a <code class=\"language-text\">this</code> mutasson erre az objektumra, v√©g√ºl pedig kapjuk meg ezt az objektumot a <code class=\"language-text\">new</code> eredm√©nyek√©nt.</p>\n<p>Azonban a JavaScript azt is megengedi, hogy egy <code class=\"language-text\">new</code> oper√°torral megh√≠vott f√ºggv√©ny <em>fel√ºl√≠rja</em> a <code class=\"language-text\">new</code> visszat√©r√©si √©rt√©k√©t az√°ltal, hogy valami m√°s objektummal t√©r vissza. Feltehet≈ëleg ezt hasznosnak tekintett√©k az olyan esetekben, amikor a p√©ld√°nyok √∫jrafelhaszn√°l√°s√°val √∂sszevontabb k√≥dot szeretn√©nk √≠rni:</p>\n<div class=\"gatsby-highlight has-highlighted-lines\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"gatsby-highlight-code-line\"><span class=\"token comment\">// Szabadon defini√°lva</span></span><span class=\"gatsby-highlight-code-line\"><span class=\"token keyword\">var</span> zeroVector <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span></span><span class=\"token keyword\">function</span> <span class=\"token function\">Vector</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">x<span class=\"token punctuation\">,</span> y</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>x <span class=\"token operator\">===</span> <span class=\"token number\">0</span> <span class=\"token operator\">&amp;&amp;</span> y <span class=\"token operator\">===</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>zeroVector <span class=\"token operator\">!==</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">// √öjrahasznos√≠tva ugyanazt a p√©ld√°nyt</span>\n<span class=\"gatsby-highlight-code-line\">      <span class=\"token keyword\">return</span> zeroVector<span class=\"token punctuation\">;</span></span><span class=\"gatsby-highlight-code-line\">    <span class=\"token punctuation\">}</span></span>    zeroVector <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>x <span class=\"token operator\">=</span> x<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>y <span class=\"token operator\">=</span> y<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">var</span> a <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Vector</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> b <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Vector</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> c <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Vector</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// üò≤ b === c</span></code></pre></div>\n<p>Azonban a <code class=\"language-text\">new</code> <em>teljesen figyelmen k√≠v≈±l hagyja</em> egy f√ºggv√©ny visszat√©r√©si √©rt√©k√©t abban az esetben, amikor az <em>nem</em> egy objektum. Ha egy string vagy egy sz√°m a visszat√©r√©si √©rt√©k az olyan, mintha nem is volna <code class=\"language-text\">return</code> a f√ºggv√©nyben. </p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">function</span> <span class=\"token function\">Answer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token number\">42</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token function\">Answer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚úÖ 42</span>\n<span class=\"token keyword\">new</span> <span class=\"token class-name\">Answer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// üò≥ Answer {}</span></code></pre></div>\n<p>Egyszer≈±en nincs r√° m√≥d, hogy olvassuk a primit√≠v visszat√©r√©si √©rt√©keket (mint p√©ld√°ul string vagy sz√°m) ha a f√ºggv√©ny a <code class=\"language-text\">new</code> kulcssz√≥val ker√ºlt megh√≠v√°sra. Teh√°t ha a React mindig a <code class=\"language-text\">new</code>-t haszn√°ln√° k√©ptelen lenne azokat a komponenseket t√°mogatni, amelyek egy string-et eredm√©nyeznek!</p>\n<p>Mivel ez elfogadhatatlan sz√ºks√©g√ºnk van egy kompromisszumra.</p>\n<hr>\n<p>Mit is tudunk eddig? A React-nek az oszt√°lyokat (bele√©rtve a Babel outputot) a <code class=\"language-text\">new</code>-val <em>egy√ºtt</em>, a norm√°l √©s a ny√≠l oper√°toros f√ºggv√©nyeket (bele√©rtve a Babel outputot) viszont a <code class=\"language-text\">new</code> <em>n√©lk√ºl</em> kell megh√≠vnia. Ezeket viszont nem lehet megb√≠zhat√≥ m√≥don megk√ºl√∂nb√∂ztetni.</p>\n<p><strong>Ha nem tudjuk ezt az √°ltal√°nos probl√©m√°t megoldani, egy specifikusabbat meg tudn√°nk?</strong></p>\n<p>Amikor egy komponenst oszt√°lyk√©nt defini√°lunk a legt√∂bbsz√∂r a <code class=\"language-text\">React.Component</code> oszt√°lyt szeretn√©nk b≈ëv√≠teni, hogy hozz√°f√©rj√ºnk olyan be√©p√≠tett met√≥dusokhoz, mint p√©ld√°ul a <code class=\"language-text\">this.setState()</code>. <strong>Ahelyett, hogy megpr√≥b√°ln√°nk azonos√≠tani az √∂sszes oszt√°lyt, nem tudn√°nk csak a <code class=\"language-text\">React.Component</code> ut√≥doszt√°lyait kisz≈±rni?</strong></p>\n<p>Spoiler: a React pontosan ezt csin√°lja.</p>\n<hr>\n<p>Tal√°n a helyes m√≥dszer, hogy meg√°llap√≠tsuk a <code class=\"language-text\">Greeting</code> komponensr≈ël hogy egy React oszt√°ly-e az, hogy megvizsg√°ljuk a <code class=\"language-text\">Greeting.prototype instanceof React.Component</code> igazs√°g√©rt√©k√©t:</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">A</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">B</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">A</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">B</span><span class=\"token punctuation\">.</span>prototype <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">A</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// true</span></code></pre></div>\n<p>Tudom mire gondoltok. Mi folyik itt? Hogy ezt megv√°laszoljuk, meg kell √©rten√ºnk a JavaScript protot√≠pusokat. </p>\n<p>Tal√°n ismer≈ës lehet a ‚Äúprotot√≠pus l√°nc‚Äù. Minden JavaScript objektum rendelkezhet egy ‚Äúprotot√≠pussal‚Äù. Amikor azt √≠rjuk, hogy <code class=\"language-text\">fred.sayHi()</code>, viszont a <code class=\"language-text\">fred</code> objektum k√∂zvetlen√ºl nem rendelkezik ezzel a met√≥dussal, akkor sz√©tn√©z√ºnk <code class=\"language-text\">fred</code> protot√≠pus√°ban, h√°tha ott van a <code class=\"language-text\">sayHi</code> defini√°lva.  Ha ott sem tal√°ljuk, akkor tov√°bbmegy√ºnk a l√°ncban k√∂vetkez≈ë protot√≠pusra - <code class=\"language-text\">fred</code> protot√≠pus√°nak a protot√≠pus√°ra. √âs √≠gy tov√°bb.</p>\n<p><strong>Zavar√≥ m√≥don egy oszt√°ly vagy egy f√ºggv√©ny <code class=\"language-text\">prototype</code> mez≈ëje <em>nem</em> az adott elem protot√≠pus√°ra mutat.</strong> Nem viccelek.</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">function</span> <span class=\"token function\">Person</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Person</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ü§™ Nem a Person protot√≠pusa</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>Person<span class=\"token punctuation\">.</span>__proto__<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// üò≥ A Person protot√≠pusa</span></code></pre></div>\n<p>A ‚Äúprotot√≠pus l√°nc‚Äù teh√°t ink√°bb √∫gy n√©z ki, hogy <code class=\"language-text\">__proto__.__proto__.__proto__</code> semmint hogy <code class=\"language-text\">prototype.prototype.prototype</code>. √âvekbe tartott hogy ezt meg√©rtsem.</p>\n<p>Akkor visztont mire mutat a <code class=\"language-text\">prototype</code> mez≈ë egy f√ºggv√©ny vagy oszt√°ly eset√©ben? <strong>H√°t a <code class=\"language-text\">__proto__</code>-ra, amivel minden olyan objektum rendelkezik, ami egy f√ºggv√©nyt≈ël vagy egy oszt√°lyt√≥l sz√°rmazik √©s a <code class=\"language-text\">new</code> oper√°torral ker√ºlt megh√≠v√°sra!</strong></p>\n<div class=\"gatsby-highlight has-highlighted-lines\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">function</span> <span class=\"token function\">Person</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">name</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> name<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token class-name\">Person</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">sayHi</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Hi, I am '</span> <span class=\"token operator\">+</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">var</span> fred <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Person</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Fred'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// A `fred.__proto__` imm√°r a `Person.prototype`-ra mutat</span></code></pre></div>\n<p>A JavaScript teh√°t ezt a <code class=\"language-text\">__proto__</code> l√°ncot haszn√°lja a v√°ltoz√≥k megkeres√©s√©re:</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\">fred<span class=\"token punctuation\">.</span><span class=\"token function\">sayHi</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// 1. fred rendelkezik saj√°t sayHi met√≥dussal? Nem.</span>\n<span class=\"token comment\">// 2. fred.__proto__ rendelkezik saj√°t sayHi met√≥dussal? Igen. H√≠vjuk meg!</span>\nfred<span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// 1. fred rendelkezik saj√°t toString met√≥dussal? Nem.</span>\n<span class=\"token comment\">// 2. fred.__proto__ rendelkezik saj√°t toString met√≥dussal? Nem.</span>\n<span class=\"token comment\">// 3. fred.__proto__.__proto__ rendelkezik saj√°t toString met√≥dussal? Igen. H√≠vjuk meg!</span></code></pre></div>\n<p>A gyakorlatban szinte sosem kell a <code class=\"language-text\">__proto__</code>-hoz k√∂zvetlen√ºl hozz√°ny√∫lnunk, kiv√©ve ha a protot√≠pus l√°nchoz k√∂thet≈ë hib√°t keres√ºnk. Ha azt szeretn√©nk, hogy a <code class=\"language-text\">fred.__proto__</code>-nak legyen hozz√°f√©r√©se valamihez, azt a <code class=\"language-text\">Person.prototype</code>-on kell be√°ll√≠tanunk. Legal√°bbis eredetileg √≠gy kellett.</p>\n<p>A b√∂ng√©sz≈ëk eredetileg nem is f√©rhettek volna hozz√° a <code class=\"language-text\">__proto__</code> mez≈ëh√∂z, mivel a protot√≠pus l√°ncot egy bels≈ë koncepci√≥nak sz√°nt√°k. De n√©h√°ny b√∂ng√©sz≈ë m√©gis hozz√°f√©rt, √≠gy a <code class=\"language-text\">__proto__</code> akaratlanul, de m√©gis standardd√° v√°lt (viszont m√°ra elevult √©s a <code class=\"language-text\">Object.getPrototypeOf()</code> vette √°t a hely√©t).</p>\n<p><strong>Ak√°rhogy is, √©n m√©g mindig nagyon furcs√°nak tal√°lom, hogy egy mez≈ë amit <code class=\"language-text\">prototype</code>-nak h√≠vnak nem az adott √©rt√©k protot√≠pusra utal</strong> (p√©ld√°ul a <code class=\"language-text\">fred.prototype</code> nincs defini√°lva, mert a <code class=\"language-text\">fred</code> nem egy f√ºggv√©ny). Szem√©ly szerint √©n azt gondolom, hogy ez f≈ë oka annak, hogy m√©g a tapasztalt fejleszt≈ëk is gyakran f√©lre√©rtik a JavaScript protot√≠pusokat.</p>\n<hr>\n<p>Hossz√∫ egy poszt, mi? K√∂r√ºlbel√ºl 80%-n√°l tartunk. Kitart√°s.</p>\n<p>Tudjuk teh√°t, hogy amikor azt √≠rjuk, hogy <code class=\"language-text\">obj.foo</code>, akkor a JavaScript val√≥j√°ban megn√©zi, hogy a <code class=\"language-text\">foo</code> defini√°lva van-e az <code class=\"language-text\">obj</code>-en, <code class=\"language-text\">obj.__proto__</code>-n, <code class=\"language-text\">obj.__proto__.__proto__</code>-n √©s √≠gy tov√°bb.</p>\n<p>Az oszt√°lyok eset√©ben ennek a mechanizmusnak nem vagyunk k√∂zvetlen√ºl kit√©ve, de az <code class=\"language-text\">extends</code> ugyan√∫gy m≈±k√∂dik a j√≥ √∂reg protot√≠pus l√°ncon is. √çgy f√©rnek hozz√° a React oszt√°lyaink olyan met√≥dusokhoz, mint a <code class=\"language-text\">setState</code>:</p>\n<div class=\"gatsby-highlight has-highlighted-lines\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"gatsby-highlight-code-line\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Greeting</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">React<span class=\"token punctuation\">.</span>Component</span> <span class=\"token punctuation\">{</span></span>  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Hello</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">let</span> c <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Greeting</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>c<span class=\"token punctuation\">.</span>__proto__<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Greeting.prototype</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>c<span class=\"token punctuation\">.</span>__proto__<span class=\"token punctuation\">.</span>__proto__<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// React.Component.prototype</span>\n<span class=\"gatsby-highlight-code-line\">console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>c<span class=\"token punctuation\">.</span>__proto__<span class=\"token punctuation\">.</span>__proto__<span class=\"token punctuation\">.</span>__proto__<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Object.prototype</span></span>c<span class=\"token punctuation\">.</span><span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>      <span class=\"token comment\">// Megtal√°lva a c.__proto__ -n (Greeting.prototype)</span>\nc<span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>    <span class=\"token comment\">// Megtal√°lva a c.__proto__.__proto__ -n (React.Component.prototype)</span>\nc<span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>    <span class=\"token comment\">// Megtal√°lva a c.__proto__.__proto__.__proto__ -n (Object.prototype)</span></code></pre></div>\n<p>M√°s szavakkal, <strong>amikor oszt√°lyokat haszn√°lunk, egy p√©ld√°ny <code class=\"language-text\">__proto__</code> l√°nca ‚Äút√ºkr√∂zi‚Äù az osz√°ly hierarchi√°t:</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token comment\">// `extends` l√°nc</span>\nGreeting\n  ‚Üí React<span class=\"token punctuation\">.</span>Component\n    ‚Üí <span class=\"token function\">Object</span> <span class=\"token punctuation\">(</span>implicit m√≥don<span class=\"token punctuation\">)</span>\n<span class=\"token comment\">// `__proto__` l√°nc</span>\n<span class=\"token keyword\">new</span> <span class=\"token class-name\">Greeting</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  ‚Üí <span class=\"token class-name\">Greeting</span><span class=\"token punctuation\">.</span>prototype\n    ‚Üí React<span class=\"token punctuation\">.</span><span class=\"token class-name\">Component</span><span class=\"token punctuation\">.</span>prototype\n      ‚Üí <span class=\"token class-name\">Object</span><span class=\"token punctuation\">.</span>prototype</code></pre></div>\n<p>2 Chainz.</p>\n<hr>\n<p>Mivel a <code class=\"language-text\">__proto__</code> let√ºkr√∂zi az oszt√°ly hierarchi√°t, megn√©zhetj√ºk, hogy a <code class=\"language-text\">Greeting</code> a <code class=\"language-text\">React.Component</code> b≈ëv√≠tm√©nye-e, kezdve a <code class=\"language-text\">Greeting.prototype</code>-n√°l majd tov√°bb k√∂vetve a <code class=\"language-text\">__proto__</code> l√°ncot:</p>\n<div class=\"gatsby-highlight has-highlighted-lines\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token comment\">// `__proto__` l√°nc</span>\n<span class=\"token keyword\">new</span> <span class=\"token class-name\">Greeting</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"gatsby-highlight-code-line\">  ‚Üí <span class=\"token class-name\">Greeting</span><span class=\"token punctuation\">.</span>prototype <span class=\"token comment\">// üïµÔ∏è Itt kezd√ºnk</span></span><span class=\"gatsby-highlight-code-line\">    ‚Üí React<span class=\"token punctuation\">.</span><span class=\"token class-name\">Component</span><span class=\"token punctuation\">.</span>prototype <span class=\"token comment\">// ‚úÖ Megvan!</span></span>      ‚Üí <span class=\"token class-name\">Object</span><span class=\"token punctuation\">.</span>prototype</code></pre></div>\n<p>Szerencs√©re az <code class=\"language-text\">x instanceof Y</code> pontosan ezt a fajta keres√©st hajtja v√©gre. Ez az <code class=\"language-text\">x.__proto__</code> l√°ncot k√∂vetve kutat az <code class=\"language-text\">Y.prototype</code> ut√°n.</p>\n<p>Ezt norm√°lis esetben arra haszn√°ljuk, hogy megmondjuk valamir≈ël hogy egy oszt√°ly p√©ld√°nya-e:</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">let</span> greeting <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Greeting</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>greeting <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">Greeting</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// true</span>\n<span class=\"token comment\">// greeting (üïµÔ∏è‚Äç Itt kezd√ºnk)</span>\n<span class=\"token comment\">//   .__proto__ ‚Üí Greeting.prototype (‚úÖ Megvan!)</span>\n<span class=\"token comment\">//     .__proto__ ‚Üí React.Component.prototype </span>\n<span class=\"token comment\">//       .__proto__ ‚Üí Object.prototype</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>greeting <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">React<span class=\"token punctuation\">.</span>Component</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// true</span>\n<span class=\"token comment\">// greeting (üïµÔ∏è‚Äç Itt kezd√ºnk)</span>\n<span class=\"token comment\">//   .__proto__ ‚Üí Greeting.prototype</span>\n<span class=\"token comment\">//     .__proto__ ‚Üí React.Component.prototype (‚úÖ Megvan!)</span>\n<span class=\"token comment\">//       .__proto__ ‚Üí Object.prototype</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>greeting <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">Object</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// true</span>\n<span class=\"token comment\">// greeting (üïµÔ∏è‚Äç Itt kezd√ºnk)</span>\n<span class=\"token comment\">//   .__proto__ ‚Üí Greeting.prototype</span>\n<span class=\"token comment\">//     .__proto__ ‚Üí React.Component.prototype</span>\n<span class=\"token comment\">//       .__proto__ ‚Üí Object.prototype (‚úÖ Megvan!)</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>greeting <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">Banana</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// false</span>\n<span class=\"token comment\">// greeting (üïµÔ∏è‚Äç Itt kezd√ºnk)</span>\n<span class=\"token comment\">//   .__proto__ ‚Üí Greeting.prototype</span>\n<span class=\"token comment\">//     .__proto__ ‚Üí React.Component.prototype </span>\n<span class=\"token comment\">//       .__proto__ ‚Üí Object.prototype (üôÖ‚Äç Nem tal√°ltuk sehol!)</span></code></pre></div>\n<p>De ugyan√∫gy m≈±k√∂dne, ha azt akarn√°nk meghat√°rozni, hogy egy oszt√°ly egy m√°sik oszt√°ly b≈ëv√≠tm√©nye-e:</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\">console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Greeting</span><span class=\"token punctuation\">.</span>prototype <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">React<span class=\"token punctuation\">.</span>Component</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// greeting</span>\n<span class=\"token comment\">//   .__proto__ ‚Üí Greeting.prototype (üïµÔ∏è‚Äç Itt kezd√ºnk)</span>\n<span class=\"token comment\">//     .__proto__ ‚Üí React.Component.prototype (‚úÖ Megvan!)</span>\n<span class=\"token comment\">//       .__proto__ ‚Üí Object.prototype</span></code></pre></div>\n<p>Ez az a m√≥dszer, amivel meg tudjuk hat√°rozni, hogy valami egy React komponens oszt√°ly vagy pedig egy szokv√°nyos f√ºggv√©ny.</p>\n<hr>\n<p>A React azonban nem √≠gy csin√°lja. üò≥</p>\n<p>Ezt az <code class=\"language-text\">instanceof</code>-ot haszn√°l√≥ megold√°s egyik ellentmond√°soss√°ga, hogy nem m≈±k√∂dik ha a React t√∂bb p√©ld√°nya is jelen van az oldalon √©s az a komponens amit √©ppen ellen≈ërz√ºnk egy <em>m√°sik</em> React p√©ld√°ny <code class=\"language-text\">React.Component</code>-j√©t≈ël √∂r√∂k√∂l. T√∂bbfajta React p√©ld√°ny √∂tv√∂z√©se egy projekten bel√ºl sok okb√≥l kifoly√≥lag sem j√≥ √∂tlet, de a m√∫ltban megpr√≥b√°ltuk elker√ºlni az ezzel j√°r√≥ probl√©m√°kat, ha lehets√©ges volt. (A Hooks-szal azonban, <a href=\"https://github.com/facebook/react/issues/13991\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">lehet hogy musz√°j</a> lesz megszabadulnunk a duplik√°cik√≥t√≥l.)</p>\n<p>Egy m√°sik lehets√©ges heurisztika, ha ellen≈ërizn√©nk, hogy a <code class=\"language-text\">render</code> met√≥dus defini√°lva van-e a protot√≠puson. Azonban r√©gebben <a href=\"https://github.com/facebook/react/issues/4599#issuecomment-129714112\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">nem volt tiszta</a>, hogy a komponens API hogyan fog fejl≈ëdni. Minden ellen≈ërz√©snek van egy √°ra, √≠gy nem akartunk egyn√©l t√∂bbet elv√©gezni. Ez akkor sem m≈±k√∂dne ha a <code class=\"language-text\">render</code> egy p√©ld√°ny met√≥dusk√©nt lenne defini√°lva, az oszt√°ly attrib√∫tumok szintaxis√°hoz hasonl√≥an.</p>\n<p>Ellenben a React ink√°bb egy speci√°lis flag-et <a href=\"https://github.com/facebook/react/pull/4663\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">rendelt</a> a b√°zis komponenshez. A React ellen≈ërzi, hogy megvan-e ez a flag, √©s innen tudja, hogy valami egy React komponens-e vagy sem.</p>\n<p>Eredetileg ez a flag a b√°zis <code class=\"language-text\">React.Component</code> oszt√°lyon mag√°n volt:</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token comment\">// Inside React</span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Component</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\nComponent<span class=\"token punctuation\">.</span>isReactClass <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// Ellen≈ërizhetj√ºk √≠gy</span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Greeting</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Component</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>Greeting<span class=\"token punctuation\">.</span>isReactClass<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚úÖ Igen</span></code></pre></div>\n<p>√Åm n√©h√°ny konkr√©t oszt√°ly implement√°ci√≥ <a href=\"https://github.com/scala-js/scala-js/issues/1900\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">nem</a> tartalmazott m√°solatokat a statikus tulajdons√°gokr√≥l (vagy maga m√≥dos√≠totta a <code class=\"language-text\">__proto__</code>-t, ami nem volt a standard r√©sze), √≠gy ez a flag elveszett.</p>\n<p>A React ez√©rt <a href=\"https://github.com/facebook/react/pull/5021\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">rakta √°t</a> ezt a flag-et ink√°bb a <code class=\"language-text\">React.Component.prototype</code>-ra:</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token comment\">// React k√≥d</span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Component</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n<span class=\"token class-name\">Component</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span>isReactComponent <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// √çgy tudjuk ellen≈ërizni</span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Greeting</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Component</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Greeting</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span>isReactComponent<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚úÖ Igen</span></code></pre></div>\n<p><strong>√âs l√©nyeg√©ben ez minden.</strong></p>\n<p>Felmer√ºlhet a k√©rd√©s, hogy ez mi√©rt egy objektum egy egyszer≈± boolean helyett. A gyakorlatban nem sz√°m√≠t sokat, de a Jest kor√°bbi verzi√≥iban (miel≈ëtt a Jest j√≥ lett‚Ñ¢Ô∏è) az automocking alapb√≥l be volt kapcsolva. Ezek a gener√°lt teszt objektumok (mock-ok) n√©lk√ºl√∂ztek minden primit√≠v adatmez≈ët, <a href=\"https://github.com/facebook/react/pull/4663#issuecomment-136533373\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">lehetetlenn√© t√©ve az ellen≈ërz√©st</a>. K√∂szi Jest.</p>\n<p>Az <code class=\"language-text\">isReactComponent</code> ellen≈ërz√©se mindm√°ig <a href=\"https://github.com/facebook/react/blob/769b1f270e1251d9dbdce0fcbd9e92e502d059b8/packages/react-reconciler/src/ReactFiber.js#L297-L300\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">a React r√©sze.</a></p>\n<p>Ha nem a <code class=\"language-text\">React.Component</code>-et b≈ëv√≠tj√ºk, akkor a React nem fogja megtal√°lni az <code class=\"language-text\">isReactComponent</code>-et a protot√≠puson √©s ez√©rt nem is fogja oszt√°lyk√©nt kezelni. Most m√°r tudjuk hogy a <code class=\"language-text\">Cannot call a class as a function</code> hiba√ºzenetre a <a href=\"https://stackoverflow.com/a/42680526/458193\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">legt√∂bb szavazatot kap√≥ v√°lasz</a> mi√©rt az, hogy adjuk hozz√° a komponenshez az <code class=\"language-text\">extends React.Component</code>-et. V√©gezet√ºl van egy <a href=\"https://github.com/facebook/react/pull/11168\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">figyelmeztet√©s is</a>, ami jelzi ha a <code class=\"language-text\">prototype.render</code> l√©tezik, de a <code class=\"language-text\">prototype.isReactComponent</code> nem.</p>\n<hr>\n<p>√ögy v√©lhetitek, hogy ebben a t√∂rt√©net kicsit sok a beetet√©st. <strong>Maga a megold√°s rendk√≠v√ºl egyszer≈±, m√©gis az√©rt tettem meg ezt a hatalmas ker√ºl≈ëutat, hogy elmagyar√°zzam a React <em>mi√©rt</em> ezt a megold√°st v√°lasztotta √©s milyen m√°s alternat√≠v√°k mer√ºltek fel.</strong></p>\n<p>Tapasztalatom szerint ez gyakran megesik az API k√∂nyvt√°rakkal. Ha azt v√°rjuk el egy API-t√≥l, hogy egyszer≈±en lehessen haszn√°lni akkor figyelembe kell venni a nyelv szemantik√°j√°t (val√≥sz√≠n≈±leg t√∂bb nyelv√©t is, bele√©rtve a lehets√©ges j√∂v≈ëbeli ir√°nyvonalakat is), a lefut√°s gyorsas√°g√°t, a munkak√∂rnyezetet ford√≠t√°si m≈±veletekkel √©s azok n√©lk√ºl, az √∂kosziszt√©ma √©s a programcsomagok √°llapot√°t √©s sz√°mos m√°s t√©nyez≈ët. A v√©gs≈ë megold√°s nem mindig a legeleg√°nsabb is, viszont musz√°j haszn√°lhat√≥nak lennie.</p>\n<p><strong>Ha a v√©gs≈ë API sikeres, a <em>felhaszn√°l√≥nak</em> soha nem kell ezen a proced√∫r√°n r√°g√≥dnia.</strong> Ehelyett f√≥kusz√°lhatnak ink√°bb az appokra.</p>\n<p>De ha k√≠v√°ncsi vagy‚Ä¶ nem √°rt ha tudod, hogy m≈±k√∂dnek a dolgok.</p>","timeToRead":17,"frontmatter":{"title":"Hogyan k√ºl√∂nb√∂zteti meg a React az oszt√°lyt a f√ºggv√©nyt≈ël?","date":"December 02, 2018","spoiler":"Lesz sz√≥ oszt√°lyokr√≥l, konstruktorokr√≥l, protot√≠pus l√°ncokr√≥l √©s API diz√°jnr√≥l.","cta":null},"fields":{"slug":"/hu/how-does-react-tell-a-class-from-a-function/","langKey":"hu"}}},"pageContext":{"slug":"/hu/how-does-react-tell-a-class-from-a-function/","translations":["es","fr","hu","ja","nl","pt-br","sk","zh-hans","zh-hant"],"translatedLinks":["/why-do-we-write-super-props/"]}}}